\subsubsection{x86}

\IFRU{Посмотрим, что у нас вышло}{Let's see what we got in} (MSVC 2010):

\lstinputlisting[caption=MSVC 2010]{patterns/12_FPU/12_3_\IFRU{ru}{en}.asm}

\index{x86!\Instructions!FLD}
\index{x86!\Instructions!FSTP}
\IFRU{\FLD и \FSTP перемещают переменные из/в сегмента данных в FPU-стек. 
\TT{pow()}\footnote{стандартная функция Си, возводящая число в степень} достает оба значения из FPU-стека и 
возвращает результат в \STZERO. 
\printf берет 8 байт из стека и трактует их как переменную типа \Tdouble.}
{\FLD and \FSTP are moving variables from/to data segment to FPU stack. 
\TT{pow()}\footnote{standard C function, raises a number to the given power}
taking both values from FPU-stack and 
returns result in the \STZERO register.
\printf takes 8 bytes from local stack and interpret them as \Tdouble type variable.}
