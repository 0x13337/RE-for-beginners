\section{\RU{Многомерные массивы}\EN{Multidimensional arrays}}

\RU{Внутри, многомерный массив выглядит так же, как и линейный.}
\EN{Internally, a multidimensional array is essentially the same thing as a linear array.}

\RU{Ведь память компьютера линейная, это одномерный массив.
Но для удобства, этот одномерный массив легко представить как многомерный.}
\EN{Since the computer memory is linear, it is an one-dimensional array.
For convenience, this multi-dimensional array can be easily represented as one-dimensional.}

\RU{К примеру, вот как элементы массива $a[3][4]$ расположены в одномерном массиве из 12-и ячеек:}
\EN{For example, thit is how the elements of the $a[3][4]$ array are placed in one-dimensional array of 12 cells:}

\begin{table}[H]
\centering
\begin{tabular}{ | l | }
\hline
[0][0] \\
\hline
[0][1] \\
\hline
[0][2] \\
\hline
[0][3] \\
\hline
[1][0] \\
\hline
[1][1] \\
\hline
[1][2] \\
\hline
[1][3] \\
\hline
[2][0] \\
\hline
[2][1] \\
\hline
[2][2] \\
\hline
[2][3] \\
\hline
\end{tabular}
\caption{\RU{Двухмерный массив представляется в памяти как одномерный}
\EN{Two-dimensional array represented in memory as one-dimensional}}
\end{table}

\RU{Вот по каким адресам в памяти располагается каждая ячейка двухмерного массива 3*4:}
\EN{Here is how each cell of 3*4 array are placed in memory:}

\begin{table}[H]
\centering
\begin{tabular}{ | l | l | l | l | }
\hline                        
0 & 1 & 2 & 3 \\
\hline  
4 & 5 & 6 & 7 \\
\hline  
8 & 9 & 10 & 11 \\
\hline  
\end{tabular}
\caption{\RU{Адреса в памяти каждой ячейки двухмерного массива}
\EN{Memory addresses of each cell of two-dimensional array}}
\end{table}

\index{row-major order}
\RU{То есть, чтобы вычислить адрес нужного элемента, в начале умножаем первый индекс на 4 (ширину матрицы), 
затем прибавляем второй индекс.}
\EN{So, in order to calculate the address of the element we need, we first multiply the first index by
4 (matrix width) and then add the second index.}
\RU{Это называется}\EN{That's called} \IT{row-major order}, 
\RU{и такой способ представления массивов и матриц используется по крайней мере в}
\EN{and this method of array and matrix representation is used in at least} \CCpp \AndENRU Python. 
\EN{The term}\RU{Термин} \IT{row-major order} \RU{означает по-русски
примерно следующее: ``в начале записываем элементы первой строки, затем второй \dots и элементы последней 
строки в самом конце''.}
\EN{in plain English language means: ``first, write the elements of the first row, then the second row \dots 
and finally the elements of the last row''.}

\index{column-major order}
\index{FORTRAN}
\RU{Другой способ представления называется}\EN{Another method for representation is called} 
\IT{column-major order} 
(\RU{индексы массива используются в обратном порядке}\EN{the array indices are used in reverse order}) 
\RU{и это используется по крайней мере в}\EN{and it is used at least in} FORTRAN, MATLAB \AndENRU R. 
\RU{Термин }\IT{column-major order} \RU{означает по-русски
следующее: ``в начале записываем элементы первого столбца, затем второго \dots и элементы последнего столбца
в самом конце''.}
\EN{term in plain English language means: ``first, write the elements of the first column, then the second column \dots
and finally the elements of the last column''.}

\RU{Какой из способов лучше}\EN{Which method is better}?
\RU{Вообще, в терминах производительности и кэш-памяти, лучший метод организации данных это тот,
при котором к данным обращаются последовательно.}
\EN{In general, in terms of performance and cache memory, 
the best scheme for data organization is the one,
in which the elements are accessed sequentially.}
\RU{Так что если ваша функция обращается к данным построчно, то \IT{row-major order} лучше,
и наоборот.}
\EN{So if your function accesses data per row, \IT{row-major order} is better, and vice versa.}

% subsections
\input{patterns/13_arrays/5_multidimensional/2D}
\input{patterns/13_arrays/5_multidimensional/2D_as_1D}
\input{patterns/13_arrays/5_multidimensional/3D}

\ifx\LITE\undefined
\subsection{\RU{Еще примеры}\EN{More examples}}

\RU{Компьютерный экран представляет собой двухмерный массив, но видеобуфер это линейный
одномерный массив}\EN{The computer screen is represented as a 2D array, but the video-buffer is 
a linear 1D array}. 
\RU{Мы рассматриваем это здесь}\EN{We talk about it here}: \myref{Mandelbrot_demo}.
\fi
