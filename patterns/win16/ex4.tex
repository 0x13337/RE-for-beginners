\section{\Example{} \#4}

\label{win16_32bit_values}

\lstinputlisting{patterns/win16/ex4.c}

\lstinputlisting{patterns/win16/ex4.lst}

\index{MS-DOS}
\RU{32-битные значения (тип данных \TT{long} означает 32-бита, а \Tint здесь 16-битный) 
в 16-битном коде (и в MS-DOS и в Win16) передаются парами)}
\EN{32-bit values (\TT{long} data type mean 32-bit, while \Tint is fixed on 16-bit data type)
in 16-bit code (both MS-DOS and Win16) are passed by pairs}.
\RU{Это так же как и 64-битные значения передаются в 32-битной среде}
\EN{It is just like 64-bit values are used in 32-bit environment} (\ref{sec:64bit_in_32_env}).

\TT{sub\_B2 here} \RU{здесь это библиотечная ф-ция написанная разработчиками компилятора, делающая}
\EN{is a library function written by compiler developers, doing} ``long multiplication'', \RU{т.е., перемножает
два 32-битных значения}\EN{i.e., multiplies two 32-bit values}.
\RU{Другие ф-ции компиляторов делающие то же самое перечислены здесь}
\EN{Other compiler functions doing the same are listed here}: \ref{sec:MSVC_library_func}, \ref{sec:GCC_library_func}.

\index{x86!\Instructions!ADD}
\index{x86!\Instructions!ADC}
\RU{Пара инструкций }\TT{ADD}/\TT{ADC} \RU{используется для сложения этих составных значений}
\EN{instruction pair is used for addition of compound values}: 
\TT{ADD} \RU{может установить или сбросить флаг}\EN{may set/clear} \TT{CF}\EN{ carry flag}, \TT{ADC} \RU{будет
использовать его}\EN{will use it}.
\RU{Пара инструкций }\TT{SUB}/\TT{SBB} \RU{используется для вычитания}\EN{instruction pair is used for subtraction}: 
\TT{SUB} \RU{может установить или сбросить флаг}\EN{may set/clear} \TT{CF}\EN{ flag}, \TT{SBB} \RU{будет использовать
его}\EN{will use it}.

\RU{32-битные значения возвращаются из ф-ций в паре регистров \TT{DX:AX}}
\EN{32-bit values are returned from functions in \TT{DX:AX} register pair}.

\RU{Константы так же передаются как пары в}\EN{Constant also passed by pairs in} \TT{WinMain()}\EN{ here}.

\index{x86!\Instructions!CWD}
\RU{Константа 123 типа \Tint в начале конвертируется (учитывая знак) в 32-битное значение 
используя инструкция \TT{CWD}}
\EN{\Tint{}-typed 123 constant is first converted respecting its sign into 32-bit value using \TT{CWD} instruction}.

